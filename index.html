<!DOCTYPE html>
<html lang="en" onmousemove="getCursor(event)">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sprite Sheet Animation</title>
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css" />
    <link rel="prefetch" href="stand.png" />
    <link rel="prefetch" href="sleep.png" />
    <link rel="prefetch" href="lie.png" />
  </head>
  <body>
    <div id="a" class="container" onclick="switcher()"></div>
  </body>
</html>

<script>
let state = 0;
var rect = document.getElementById('a').getBoundingClientRect();
console.log(rect.left, rect.right);

window.addEventListener('resize', function(event) {
    rect = document.getElementById('a').getBoundingClientRect();
}, true);

    function switcher(){
	if (state === 0) {
        document.getElementById('a').style.backgroundImage = "url('stand.png')";
	document.getElementById('a').style.animationDuration = "0.4s";
	state = 1;
	} else if (state === 1) {
        document.getElementById('a').style.backgroundImage = "url('lie.png')";
	document.getElementById('a').style.animationDuration = "0.6s";
	state = 2;
	} else if (state === 2) {
        document.getElementById('a').style.backgroundImage = "url('sleep.png')";
	state = 3;
	document.getElementById('a').style.animationDuration = "2.8s";
	} else if (state === 3) {
        document.getElementById('a').style.backgroundImage = "url('sit.png')";
	document.getElementById('a').style.animationDuration = "0.5s";	
	state = 0;
	}
    }

    function getCursor(event) {
        let x = event.clientX;
	if (state != 3) {
            if (x < rect.left + 20) {
    	        document.getElementById('a').style.transform = "scaleX(-1)";
            } else if (x > rect.right - 20) {
	        document.getElementById('a').style.transform = "scaleX(1)";
            }
	}
    }
</script>
